import{d as b,u as P,r as C,b as p,o as i,c as u,a as e,w as g,f as n,v as c,t as w,g as _,k as y,p as N,l as x,_ as S}from"./index-giYzRquH.js";const t=r=>(N("data-v-c4598e8d"),r=r(),x(),r),V={id:"change-password"},k={class:"container"},I={class:"card card-body mt-8"},q=t(()=>e("h5",{class:"card-title"},"Cambio de Clave",-1)),M={class:"mb-3"},U=t(()=>e("label",{for:"email",class:"form-label"},"Email",-1)),B={class:"mb-3"},D=t(()=>e("label",{for:"currentPassword",class:"form-label"},"Clave Actual",-1)),E={class:"mb-3"},A=t(()=>e("label",{for:"newPassword",class:"form-label"},"Nueva Clave",-1)),R={class:"mb-3"},T=t(()=>e("label",{for:"newPasswordConfirm",class:"form-label"},"Confirmar Nueva Clave",-1)),j=t(()=>e("br",null,null,-1)),z=t(()=>e("button",{type:"submit",class:"btn btn-success"},"Cambiar Clave",-1)),F={key:0,class:"error text-danger mt-3"},G={key:1,class:"success text-success mt-3"},H=b({__name:"changePassword",setup(r){const v=P(),f=y(),s=C({email:"",currentPassword:"",NewPassword:"",NewPasswordConfirm:""}),l=p(""),d=p("");async function h(){l.value="",d.value="";try{await v.changePassword(s),d.value="Clave cambiada exitosamente.",f.replace({name:"login"})}catch(m){l.value=m.message||"Error inesperado. Por favor, inténtalo más tarde."}}return(m,a)=>(i(),u("div",V,[e("div",k,[e("div",I,[q,e("form",{onSubmit:g(h,["prevent"])},[e("div",M,[U,n(e("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>s.email=o),type:"email",class:"form-control",id:"email",placeholder:"Ingresa tu correo electrónico",required:""},null,512),[[c,s.email]])]),e("div",B,[D,n(e("input",{"onUpdate:modelValue":a[1]||(a[1]=o=>s.currentPassword=o),type:"password",class:"form-control",id:"currentPassword",placeholder:"Clave actual",required:""},null,512),[[c,s.currentPassword]])]),e("div",E,[A,n(e("input",{"onUpdate:modelValue":a[2]||(a[2]=o=>s.NewPassword=o),type:"password",class:"form-control",id:"newPassword",placeholder:"Nueva clave",required:""},null,512),[[c,s.NewPassword]])]),e("div",R,[T,n(e("input",{"onUpdate:modelValue":a[3]||(a[3]=o=>s.NewPasswordConfirm=o),type:"password",class:"form-control",id:"newPasswordConfirm",placeholder:"Confirma tu nueva clave",required:""},null,512),[[c,s.NewPasswordConfirm]])]),j,z],32),l.value?(i(),u("p",F,w(l.value),1)):_("",!0),d.value?(i(),u("p",G,w(d.value),1)):_("",!0)])])]))}}),K=S(H,[["__scopeId","data-v-c4598e8d"]]);export{K as default};
