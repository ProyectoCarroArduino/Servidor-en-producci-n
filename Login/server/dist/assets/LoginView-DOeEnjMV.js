import{d as f,u as v,r as b,b as g,c as n,a as s,e as w,f as _,w as y,g as l,v as i,t as V,h as x,i as k,j as C,o as d,k as E,_ as L}from"./index-CpEXMNlz.js";const N={id:"login"},S={class:"container"},B={class:"card card-body mt-8"},D={class:"mb-3"},I={class:"mb-3"},M={key:0,class:"error text-danger mt-3"},P=f({__name:"LoginView",setup(h){const m=v(),u=C(),a=b({email:"",password:""}),t=g("");async function p(){t.value="";try{await m.login(a),u.replace({name:"user"})}catch(o){console.error("Error al intentar iniciar sesión:",o),o&&o.response&&o.response.data&&o.response.data.message?t.value=o.response.data.message:o&&o.message?t.value=o.message:t.value="Error inesperado. Por favor, intente más tarde."}}return(o,e)=>{const c=k("router-link");return d(),n("div",N,[s("div",S,[s("div",B,[e[6]||(e[6]=s("h5",{class:"card-title"},"Login",-1)),s("form",{onSubmit:y(p,["prevent"])},[s("div",D,[e[2]||(e[2]=s("label",{for:"email",class:"form-label"},"Email address",-1)),l(s("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>a.email=r),type:"email",class:"form-control",id:"email",autocomplete:"off",placeholder:"Ingresa tu correo electrónico"},null,512),[[i,a.email]])]),s("div",I,[e[3]||(e[3]=s("label",{for:"password",class:"form-label"},"Password",-1)),l(s("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.password=r),type:"password",class:"form-control",id:"password",placeholder:"Ingresa tu clave"},null,512),[[i,a.password]])]),e[4]||(e[4]=s("button",{type:"submit",class:"btn btn-success"},"Login",-1))],32),t.value?(d(),n("p",M,V(t.value),1)):w("",!0),e[7]||(e[7]=s("br",null,null,-1)),_(c,{to:"/changePassword",class:"btn btn-secondary"},{default:x(()=>e[5]||(e[5]=[E("Cambiar clave")])),_:1})])])])}}}),U=L(P,[["__scopeId","data-v-51710061"]]);export{U as default};
